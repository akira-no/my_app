<%= render "shared/header" %>

<% unless user_signed_in? %>
  <div class = "signed-out-ver">
    <%= month_calendar do |date| %>
      <%= date.day %>
    <% end %>
  </div>
<% else %>

    <%# 検索フォーム %>
  <div class = "main-full">
    <div class = "main-left">
     <% @categories.each do |category| %>
      <div class = "form-check">
        <input class = "form-check-input" type = "radio" name = "maker" value = "category_name">
        <label class = "form-check-label"><%= category.category_name %></label>
      </div>
      <% category.tags.uniq.each do |tag| %>
        <div id = "tagList">
          <div class = "form-check">
            <input class = "form-check-input" type = "checkbox" value = "tag_name" checked>
            <label class = "form-check-label"><%= tag.tag_name %></label>
          </div>
        </div>
      <% end %>
     <% end %>
     <label><input type="checkbox" id="check" onclick="checkdiv(this,'checkBox')" /><%= tag.tag_name %></label>
     <div id="checkBox" style="display:none;">表示！</div>
    </div>
   <%# </検索フォーム> %>

   <%# カレンダー %>
    <div class = "calendar-main">
    <%= month_calendar events: @plans do |date, plans| %>
      <%= date.day %><br>
      <% plans.each do |plan| %>
      <%= link_to plan.item, plans_path %><br>
      <% end %>
    <% end %>
    </div>
  </div>
    <%# カレンダー %>




  <%# <label><input class = "checkbox" type = "checkbox" name = "tag-chack" value = "1" checked>1</label> %>
  <div class = "search-field-main">
    <div class="search-field">
     <%= text_field_tag :item, "", class: "js-text_field", placeholder: "詳細で検索" %>
    </div>
    <ul class = "search-field-ul">
    <% @plans_s.each do |plan|%>
     <%= render partial: 'plan', locals: { item: plan.item } %>
     <% end %>
    </ul>
  </div>



<% end %>
<%= render "shared/footer" %>
